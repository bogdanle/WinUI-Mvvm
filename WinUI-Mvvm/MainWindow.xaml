<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="WinUI_Mvvm.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WinUI_Mvvm"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Closed="Window_Closed"
    Activated="Window_Activated"
    Title="WinUI-Mvvm">

    <Grid Name="LayoutRoot">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Image Margin="0,0,0,0" Height="58" Source="Assets/TopBar.png" Stretch="Fill" Opacity="0.9" IsHitTestVisible="True" VerticalAlignment="Top" />

        <Grid x:Name="AppTitleBar" Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" Margin="0,0,100,0" 
              Height="{Binding ElementName=NavigationViewControl, Path=CompactPaneLength}" IsHitTestVisible="True" VerticalAlignment="Top">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Image Grid.Column="0" Margin="10,7,0,0" Height="40" Source="Assets/windows-logo.png" Stretch="Uniform" IsHitTestVisible="True" />
            <Line Grid.Column="2" Margin="15,10,5,5" Stroke="WhiteSmoke" Y1="38" Stretch="None" IsHitTestVisible="True" />
            <TextBlock Grid.Column="3" Margin="13,8,0,0" Text="WinRT/C++ MVVM Demo" TextWrapping="Wrap" VerticalAlignment="Center" HorizontalAlignment="Stretch" 
                       FontFamily="SF Pro Display" FontSize="16" Foreground="WhiteSmoke" />
        </Grid>

        <NavigationView x:Name="navigationView" 
                        Grid.Row="1"
                        Margin="0,0,0,0"
                        Canvas.ZIndex="0"                        
                        IsBackButtonVisible="Collapsed"
                        PaneDisplayMode="LeftCompact" 
                        IsTabStop="False"                           
                        SelectionChanged="NavigationView_SelectionChanged">
            <NavigationView.MenuItems>
                <NavigationViewItem Icon="Home" Content="Home" Tag="HomePage" />
            </NavigationView.MenuItems>
            <NavigationView.HeaderTemplate>
                <DataTemplate>
                    <Grid>
                        <TextBlock FontSize="22" Text="{Binding}" Margin="-35,-25,0,15" />
                    </Grid>
                </DataTemplate>
            </NavigationView.HeaderTemplate>
            <Grid Margin="15,0,15,5">
                <Frame x:Name="contentFrame" />
            </Grid>
        </NavigationView>

    </Grid>
</Window>
